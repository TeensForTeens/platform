{% from "_formhelpers.html" import form_field, form_checkbox %}
{% extends "base.html" %}
{% set extra_css = "donate" %}
{% block content %}
<div class="pure-g">
	<div class="pure-u-xl-1-3 pure-u-1-1" id="message">
		<div id="wrap">
			<p>image placeholder</p>
			
			<h2>Contribute to the Teens for Teens PAC</h2>
			
			<p><strong>It's our time! Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</strong></p>
			
			<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
		</div>
	</div>
	
	<div class="pure-u-xl-2-3 pure-u-1-1" id="form">
		<form method="POST" class="pure-form pure-form-stacked" id="donate-form">
			{{ form.stripe_token }}
            {{ form.csrf_token }}
			
			<div class="pure-g" id="tabs">
					<div class="pure-u-1-3"><p id="donation-amount">Donation Amount</p></div>
					<div class="pure-u-1-3"><p id="contact-info">Contact Info</p></div>
					<div class="pure-u-1-3"><p id="payment">Payment</p></div>
				</div>
			
			<hr>
			
			<div id="donation-amount-tab" class="form-screen">
				<h1>Donation Amount</h1>
				
				<div class="pure-g" id="once-or-monthly">
					<div class="pure-u-1-2"><p>Once</p></div>
					<div class="pure-u-1-2"><p>Monthly</p></div>
				</div>
				
				<div class="pure-g" id="numbers">
					<div class="pure-u-1-5"><p>$5</p></div>
					<div class="pure-u-1-5"><p>$10</p></div>
					<div class="pure-u-1-5"><p>$25</p></div>
					<div class="pure-u-1-5"><p>$50</p></div>
					<div class="pure-u-1-5"><p>$100</p></div>
				</div>
				
				<div class="pure-g" id="other">
					<div class="pure-u-lg-3-5 pure-u-1-1"><input type="number" min="1" placeholder="OTHER"></div>
				</div>
				
				<div class="pure-g" id="continue">
					<div class="pure-u-lg-3-5 pure-u-0-1"></div>
					<div class="pure-u-lg-2-5 pure-u-1-1"><button class="green" id="donation-amount-continue">Continue</button></div>
				</div>
			</div>
			
			<div id="contact-info-tab" class="form-screen">
				<h1>Contact Info</h1>
				
				<div class="pure-g">
					<div class="pure-u-1-2">
						<label>First Name</label>
						<input type="text">
					</div>
					
					<div class="pure-u-1-2">
						<label>Last Name</label>
						<input type="text">
					</div>
				</div>
				
				<div class="pure-g">
					<div class="pure-u-1-1">
						<label>Street Address</label>
						<input type="text">
					</div>
				</div>
				
				<div class="pure-g">
					<div class="pure-u-2-3">
						<label>City</label>
						<input type="text">
					</div>
					
					<div class="pure-u-1-3">
						<label>State</label>
						<select>
							<option value="AL">Alabama</option>
							<option value="AK">Alaska</option>
							<option value="AZ">Arizona</option>
							<option value="AR">Arkansas</option>
							<option value="CA">California</option>
							<option value="CO">Colorado</option>
							<option value="CT">Connecticut</option>
							<option value="DE">Delaware</option>
							<option value="DC">District Of Columbia</option>
							<option value="FL">Florida</option>
							<option value="GA">Georgia</option>
							<option value="HI">Hawaii</option>
							<option value="ID">Idaho</option>
							<option value="IL">Illinois</option>
							<option value="IN">Indiana</option>
							<option value="IA">Iowa</option>
							<option value="KS">Kansas</option>
							<option value="KY">Kentucky</option>
							<option value="LA">Louisiana</option>
							<option value="ME">Maine</option>
							<option value="MD">Maryland</option>
							<option value="MA">Massachusetts</option>
							<option value="MI">Michigan</option>
							<option value="MN">Minnesota</option>
							<option value="MS">Mississippi</option>
							<option value="MO">Missouri</option>
							<option value="MT">Montana</option>
							<option value="NE">Nebraska</option>
							<option value="NV">Nevada</option>
							<option value="NH">New Hampshire</option>
							<option value="NJ">New Jersey</option>
							<option value="NM">New Mexico</option>
							<option value="NY">New York</option>
							<option value="NC">North Carolina</option>
							<option value="ND">North Dakota</option>
							<option value="OH">Ohio</option>
							<option value="OK">Oklahoma</option>
							<option value="OR">Oregon</option>
							<option value="PA">Pennsylvania</option>
							<option value="RI">Rhode Island</option>
							<option value="SC">South Carolina</option>
							<option value="SD">South Dakota</option>
							<option value="TN">Tennessee</option>
							<option value="TX">Texas</option>
							<option value="UT">Utah</option>
							<option value="VT">Vermont</option>
							<option value="VA">Virginia</option>
							<option value="WA">Washington</option>
							<option value="WV">West Virginia</option>
							<option value="WI">Wisconsin</option>
							<option value="WY">Wyoming</option>
						</select>
					</div>
				</div>
				
				<div class="pure-g">
					<div class="pure-u-1-3">
						<label>ZIP Code</label>
						<input type="text" pattern="\d{5}-?(\d{4})?">
					</div>
					
					<div class="pure-u-2-3">
						<label>Country</label>
						<input type="text" value="USA">
					</div>
				</div>
				
				<div class="pure-g">
					<div class="pure-u-2-3">
						<label>Email</label>
						<input type="email">
					</div>
				</div>
				
				<div class="pure-g" id="continue">
					<div class="pure-u-lg-3-5 pure-u-0-1"></div>
					<div class="pure-u-lg-2-5 pure-u-1-1"><button class="green" id="contact-info-continue">Continue</button></div>
				</div>
				
				<div class="pure-g" id="back">
					<div class="pure-u-lg-3-5 pure-u-0-1"></div>
					<div class="pure-u-lg-2-5 pure-u-1-1"><button class="red" id="contact-info-back">Back</button></div>
				</div>
			</div>
			
			<div id="payment-tab" class="form-screen">
				<h1>Payment</h1>
				
				<div class="pure-g">
					<div class="pure-u-1-1">
						<label>Credit Card Number</label>
						<input type="text">
					</div>
				</div>
				
				<div class="pure-g">
					<div class="pure-u-1-3">
						<label>CVC</label>
						<input type="text">
					</div>
					
					<div class="pure-u-2-3">
						<label>Expiration Date</label>
						<input type="month">
					</div>
				</div>
				
				<div class="pure-g">
					<div class="pure-u-1-1">
						<p>In the United States, a political action committee (PAC) is a type of organization that pools campaign contributions from members and donates those funds to campaign for or against candidates, ballot initiatives, or legislation.[1][2] The legal term PAC has been created in pursuit of campaign finance reform in the United States. This term is quite specific to all activities of campaign finance in the United States. Democracies of other countries use different terms for the units of campaign spending or spending on political competition (see political finance). At the U.S. federal level, an organization becomes a PAC when it receives or spends more than $2,600 for the purpose of influencing a federal election, according to the Federal Election Campaign Act.[3] At the state level, an organization becomes a PAC according to the state's election laws.</p>
					</div>
				</div>
				
				<div class="pure-g" id="continue">
					<div class="pure-u-lg-3-5 pure-u-0-1"></div>
					<div class="pure-u-lg-2-5 pure-u-1-1"><button type="submit" class="green">Donate</button></div>
				</div>
				
				<div class="pure-g" id="back">
					<div class="pure-u-lg-3-5 pure-u-0-1"></div>
					<div class="pure-u-lg-2-5 pure-u-1-1"><button class="red" id="payment-back">Back</button></div>
				</div>
			</div>
		</form>
	</div>
</div>
{% endblock %}

{% block scripts %}
<script type="text/javascript" src="https://js.stripe.com/v2/"></script>
<script type="text/javascript">
    Stripe.setPublishableKey('{{ key }}');
    $("#donate-form").submit(function(e) {
        var $form = $(this);
        var form = this;
        $form.find('button').prop('disabled', true);
        Stripe.card.createToken($form, function(status, response) {
            if(response.error) {
                alert(response.error.message);
                $form.find('button').prop('disabled', false);
            }
            else {
                var token = response.id;
                $("input[name=stripe_token]").val(token);
                form.submit();
            }
        });
        return false;
    });
	
	var tabs = ["donation-amount-tab", "contact-info-tab", "payment-tab"];
	
	function switchTab(tabName) {
		for (var tab in tabs) {
			var name = tabs[tab];
			console.log(name);
			document.getElementById(name).style.display = "none";
		}
		
		document.getElementById(tabName).style.display = "block";
	}
	
	document.getElementById("donation-amount").onclick = function () {
		switchTab("donation-amount-tab");
	}
	document.getElementById("contact-info").onclick = function () {
		switchTab("contact-info-tab");
	}
	document.getElementById("payment").onclick = function () {
		switchTab("payment-tab");
	}
	document.getElementById("donation-amount-continue").onclick = function () {
		switchTab("contact-info-tab");
	}
	document.getElementById("contact-info-continue").onclick = function () {
		switchTab("payment-tab");
	}
	document.getElementById("contact-info-back").onclick = function () {
		switchTab("donation-amount-tab");
	}
	document.getElementById("payment-back").onclick = function () {
		switchTab("contact-info-tab");
	}
	
	switchTab("donation-amount-tab");
</script>
{% endblock %}
